 Program
   Variables Setup
   BeforeStart
     CurrentPos≔get_actual_tcp_pose()
     CurrentXValue≔CurrentPos[0]
     CurrentYValue≔CurrentPos[1]
     CurrentZValue≔CurrentPos[2]
     mm_bay≔0
     m_innet_op≔2000
     Popup: Press Continue. If modbus error occurs go to Installation > Fieldbus > Modbus > 'refresh list' before proceeding. Check Raspberry pi is on. Using SSH, run 'sudo pm2 start 0 && sudo pm2 logs 0' if errors persist. This prompt is not an error but a warning.
     mm_lst_insp_id≔mm_insp_id
     mm_lst_res_v≔mm_res_ver
     mm_lat_c1r≔ False 
     mm_lat_c2r≔ False 
     mm_lat_c3r≔ False 
     mm_lat_c4r≔ False 
     mm_recorr_req≔ False 
     Set mm_pht_rdy_stp=0
     Set mm_recv_inst=0
     If (CurrentXValue≥-0.018 and CurrentXValue ≤-0.014) and (CurrentYValue≤-0.296 and CurrentYValue≥-0.310) and (CurrentZValue≥0.160 and CurrentZValue≤0.305)
       Popup: Robot inside warehouse, press continue to bring it to a safe position automatically.
       CurrentPos[0]=-0.106
       CurrentPos[1]=-0.211
       MoveL
         CurrentPos
       MoveJ
         ChargerSafe
         UL_HomePos
   Robot Program
     mm_bay≔0
     Set mm_pht_rdy_stp=0
     Set mm_recv_inst=0
     Set OutNET_Done=Off
     Set OutNet_FullBin=Off
     Set OutNet_Tool=Off
     Set OuTNET_Gripper=0
     Set OutNET_Ready=On
     Wait: 1.0
     Set mm_done=Off
     MoveJ
       UL_HomePos
     Loop
       Set OutNET_Done=Off
       Wait: 0.5
       Wait InNET_Enable
       Wait InNET_Run and InNET_Operation≠0
       m_innet_op≔InNET_Operation
       Switch InNET_Operation
         Case 1
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call CHARGER1_pick
           Set OutNET_Done=On
           Wait: 2.0
         Case 2
           Wait InNET_Enable and  InNet_Halt
           Set OutNET_Done=Off
           Call C1pk2move
           Call CHARGER1_pick
           Set OutNET_Done=On
           Wait: 2.0
         Case 3
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call C1pk3move
           Call CHARGER1_pick
           Set OutNET_Done=On
           Wait: 2.0
         Case 4
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call C1pk4move
           Call CHARGER1_pick
           Set OutNET_Done=On
           Wait: 2.0
         Case 5
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call C1pk5move
           Call CHARGER1_pick
           Set OutNET_Done=On
           Wait: 2.0
         Case 6
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PACK1_release
           Set OutNET_Done=On
           Wait: 2.0
         Case 7
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PACK2_release
           Set OutNET_Done=On
           Wait: 2.0
         Case 8
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PACK3_release
           Set OutNET_Done=On
           Wait: 2.0
         Case 9
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK1CAN1_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 10
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK1CAN2_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 11
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK1CAN3_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 12
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK1CAN4_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 13
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK2CAN1_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 14
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK2CAN2_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 15
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK2CAN3_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 16
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK2CAN4_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 17
           Wait InNET_Enable
           Set OutNET_Done=Off
           Call PK3CAN1_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 18
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK3CAN2_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 19
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK3CAN3_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 20
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Call PK3CAN4_release
           Call PALLET__remove
           Set OutNET_Done=On
           Wait: 2.0
         Case 21
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Set OutNET_Done=On
           Set OutNet_Tool=Off
           Set mm_done=Off
           mm_bay≔1
           Call PACK1_pick
           Set mm_recv_inst=1
           Wait: 0.5
           Set mm_recv_inst=0
           Call mm_cam_check
           If c1_recorrect≟ True  or c2_recorrect≟ True  or c3_reconnect≟ True  or c4_reconnect≟ True 
             Call mm_p1_put_back
             Call mm_get_poke
             Call mm_fix_pack1
             Call mm_drop_poke
             Call PACK1_pick
           Call PACK_Unload
           Set OutNET_Done=On
           Wait: 2.0
         Case 22
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Set OutNET_Done=On
           mm_bay≔2
           Call PACK2_pick
           Call PACK_Unload
           Set OutNET_Done=On
           Wait: 2.0
         Case 23
           Wait InNET_Enable and InNet_Halt
           Set OutNET_Done=Off
           Set OutNET_Done=On
           mm_bay≔3
           Call PACK3_pick
           Call PACK_Unload
           Set OutNET_Done=On
           Wait: 2.0
   PACK1_release
     MoveJ
       HomePos
       Waypoint_7
     MoveL
       pl1_PK1up_2
     MoveL
       pl1_PK1_1
       Set OuTNET_Gripper=0
       Set OutNet_Tool=On
       Wait: 2.0
       Wait: 5.0
       Set OutNet_Tool=On
       Wait: 2.0
       pl1_PK1up_3
     MoveJ
       Pack_aprox_1
       HomePos
       Set OutNet_Tool=Off
   PACK2_release
     MoveJ
       HomePos
       Waypoint_7
     MoveL
       pl1_PK2up_2
     MoveL
       p1_PK2_1
       Set OuTNET_Gripper=0
       Set OutNet_Tool=On
       Wait: 2.0
       Wait: 5.0
       Set OutNet_Tool=On
       Wait: 2.0
       pl1_PK2up_3
     MoveJ
       Pack_aprox_3
       HomePos
       Set OutNet_Tool=Off
   PACK3_release
     MoveJ
       HomePos
       Waypoint_7
     MoveL
       pl1_PK3up_2
     MoveL
       pl1_PK3_1
       Set OuTNET_Gripper=0
       Set OutNet_Tool=On
       Wait: 2.0
       Wait: 5.0
       Set OutNet_Tool=On
       Wait: 2.0
       pl1_PK3up_3
       MoveJ
         Pack_aprox_3
         HomePos
         Set OutNet_Tool=Off
   CHARGER1_pick
     MoveJ
       HomePos
       Set OutNET_Done=Off
       Set OutNet_Tool=Off
       C1_aprox1
       C1_aprox2
       MoveL
         pl2_C1out
       MoveL
         pl2_C1
       Set OuTNET_Gripper=5
       Set OutNet_Tool=On
       Wait: 2.0
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       MoveL
         pl2_C1out_1
       MoveL
         pl2_C1scanner
       Wait: 2.0
       C1_aprox2
       C1_aprox1
       HomePos
   CHARGER2_pick
     MoveJ
       HomePos
       C1_aprox1
       Pre_take_C2
       MoveL
         Take_C2
       Set OuTNET_Gripper=5
       Set OutNet_Tool=On
       Wait: 2.0
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       MoveL
         Pre_take_C2_1
       scanner
       C1_aprox1
       HomePos
   C1pk2move
     MoveJ
       HomePos
       C1mov_aprox
     MoveL
       C1premove_2
     MoveL
       pl3C1mov_ini
       Wait: 1.0
       pl3C1mback
       pl3C1mback_apr
     MoveJ
       UL_C1mov_aprox
       UL_HomePos
   C2pk2move
     MoveJ
       HomePos
       C2mov_aprox
     MoveL
       C2premove_2
     MoveL
       pl3C2mov_ini
       Wait: 1.0
       pl3C2mback
       pl3C2mback_apr
     MoveJ
       C2mov_aprox
       HomePos
   C1pk3move
     MoveJ
       HomePos
       C1mov_aprox
     MoveL
       C1premove_3
     MoveL
       pl3C1mov_ini_1
       Wait: 1.0
       pl3C1mback_1
       pl3C1mback_ap_1
     MoveJ
       UL_C1mov_aprox
       UL_HomePos
   C2pk3move
     MoveJ
       HomePos
       C2mov_aprox
     MoveL
       C2premove_2
     MoveL
       pl3C2mov_ini_1
       Wait: 1.0
       pl3C2mback_1
       pl3C2mback_ap_1
     MoveJ
       C2mov_aprox
       HomePos
   C1pk4move
     MoveJ
       HomePos
       C1mov_aprox
     MoveL
       C1premove_4
     MoveL
       pl3C1mov_ini_2
       Wait: 1.0
       pl3C1mback_2
       pl3C1mback_ap_2
     MoveJ
       UL_C1mov_aprox
       UL_HomePos
   C2pk4move
     MoveJ
       HomePos
       C2mov_aprox
     MoveL
       C2premove_2
     MoveL
       pl3C2mov_ini_2
       Wait: 1.0
       pl3C2mback_2
       pl3C2mback_ap_2
     MoveJ
       C2mov_aprox
       HomePos
   C1pk5move
     MoveJ
       UL_HomePos
       UL_C1mov_aprox
     MoveL
       C1premove_5
     MoveL
       pl3C1mov_ini_3
       Wait: 1.0
       pl3C1mback_3
       pl3C1mback_ap_3
     MoveJ
       UL_C1mov_aprox
       UL_HomePos
   C2pk5move
     MoveJ
       HomePos
       C2mov_aprox
     MoveL
       C2premove_2
     MoveL
       pl3C2mov_ini_3
       Wait: 1.0
       pl3C2mback_3
       pl3C2mback_ap_3
     MoveJ
       C2mov_aprox
       HomePos
   PACK1_pick
     Set OutNet_Tool=Off
     Set OuTNET_Gripper=0
     Wait: 1.0
     Set OutNet_Tool=On
     Wait: 2.0
     MoveJ
       UL_HomePos
       Set OutNet_Tool=Off
       UL_Pack_aprox_1
     MoveL
       pl1_PK1up_2
     MoveL
       pl1_PK1_1
       Set OuTNET_Gripper=5
       Set OutNet_Tool=On
       Wait: 5.0
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       pl1_PK1up_3
     MoveJ
       UL_Pack_aprox_1
   PACK2_pick
     MoveJ
       UL_HomePos
       Set OutNet_Tool=Off
       Set OutNET_Done=Off
       UL_Pack_aprox_1
     MoveL
       pl1_PK2up_2
     MoveL
       p1_PK2_1
       Set OuTNET_Gripper=5
       Set OutNet_Tool=On
       Wait: 2.0
       Wait: 5.0
       Set OutNet_Tool=Off
       pl1_PK2up_3
     MoveJ
       UL_Pack_aprox_1
   PACK3_pick
     Set OutNet_Tool=Off
     MoveJ
       UL_HomePos
       UL_Pack_aprox_1
     Set OuTNET_Gripper=0
     Set OutNet_Tool=On
     MoveL
       pl1_PK3up_2
       Wait: 1.0
       Set OutNet_Tool=Off
     MoveL
       pl1_PK3_1
       Wait: 1.0
       Set OuTNET_Gripper=5
       Set OutNet_Tool=On
       Wait: 5.0
       pl1_PK3up_3
     MoveJ
       UL_Pack_aprox_1
   PACK_Unload
     MoveJ
       Belt_up
     MoveL
       Belt_end
       Belt_down
       Set OutNet_Tool=Off
       Wait: 1.0
       Set OuTNET_Gripper=0
       Set OutNet_Tool=On
       Wait: 2.0
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       Belt_end
       Wait: 1.0
       Set OuTNET_Gripper=8
       Set OutNet_Tool=On
       Wait: 5.0
     MoveJ
       HomePos
   PALLET__remove
     MoveJ
       Pallet_prepick
     MoveL
       Pallet_pick
       Set OuTNET_Gripper=5
       Set OutNet_Tool=On
       Wait: 3.0
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       Pallet_prepick
       Pallet_release
       If InNET_PalletNum≠1 and InNET_PalletNum≠3 and InNET_PalletNum≠5 and InNET_PalletNum≠7
         If InNET_PalletNum≤5
           D1_pallet_down
         Else
           D1_pallet_up
       ElseIf InNET_PalletNum≤5
         D2_pallet_down
       Else
         D2_pallet_up
       Set OuTNET_Gripper=0
       Set OutNet_Tool=On
       Wait: 3.0
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       D_UP
     If InNET_PalletNum≥8
       MoveJ
         HomePos
       Set OutNet_FullBin=On
       Wait: 2.0
       Set OutNet_FullBin=Off
       Wait: 2.0
       Wait InNET_Enable
     Else
       MoveJ
         HomePos
   PK1CAN1_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister11up
     MoveL
       pl1Canister11
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist11up_1
     MoveJ
       Canister_aprox
   PK1CAN2_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister12up
     MoveL
       pl1Canister12
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist12up
     MoveJ
       Canister_aprox
   PK1CAN3_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister13up
     MoveL
       pl1Canister13
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist13up
     MoveJ
       Canister_aprox
   PK1CAN4_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister14up
     MoveL
       pl1Canister14
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist14up
     MoveJ
       Canister_aprox
   PK2CAN1_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister21up
     MoveL
       pl1Canister21
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist21up
     MoveJ
       Canister_aprox
   PK2CAN2_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister22up
     MoveL
       pl1Canister22
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist22up
     MoveJ
       Canister_aprox
   PK2CAN3_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister23up
     MoveL
       pl1Canister23
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist23up
     MoveJ
       Canister_aprox
   PK2CAN4_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister24up
     MoveL
       pl1Canister24
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist24up
     MoveJ
       Canister_aprox
   PK3CAN1_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister31up
     MoveL
       pl1Canister31
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist31up
     MoveJ
       Canister_aprox
   PK3CAN2_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister32up
     MoveL
       pl1Canister32
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist32up
     MoveJ
       Canister_aprox
   PK3CAN3_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister33up
     MoveL
       pl1Canister33
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist3up
     MoveJ
       Canister_aprox
   PK3CAN4_release
     MoveJ
       Pallet_prepick
     MoveL
       Pick_canister
     Set OuTNET_Gripper=6
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       Pallet_prepick
     MoveJ
       Canister_aprox
     MoveL
       pl1Canister34up
     MoveL
       pl1Canister34
     Set OuTNET_Gripper=2
     Set OutNet_Tool=On
     Wait: 3.0
     Wait InNET_InPos=HI
     Set OutNet_Tool=Off
     MoveL
       pl1Canist34up
     MoveJ
       Canister_aprox
   Plane1_Packs
     MoveJ
       PL1orig
       PL1_Xinc
       PL1_Yinc
       PL1orig_aprox
   Plane2_Charger
     MoveJ
       PL2orig
       PL2orig_aprox
       PL2_Xinc
       PL2_Yinc
   Plane3_C1move
     MoveJ
       PL3orig
       PL3orig_aprox
       PL3_Yinc
       PL3_Zinc
   Plane4_C2move
     MoveJ
       PL4orig
       PL4_Yinc
       PL4_Zinc
       pl4orig_aprox
   mm_cam_check
     Switch mm_bay
       Case 1
         MoveL
           Waypoint_4
           MoveJ
             Waypoint_1
             Wait: 2.0
           Set mm_pht_rdy_stp=1
           Wait mm_pht_stp_done≥1 and mm_pht_stp_done≤1
           Waypoint_6
           Waypoint_8
           Wait: 2.0
           Set mm_pht_rdy_stp=2
           Wait mm_pht_stp_done≤2 and mm_pht_stp_done≥2
           Set mm_pht_rdy_stp=0
           Wait: 2.0
   mm_p1_put_back
     MoveJ
       Pack_aprox_1
       MoveL
         Waypoint_3
         Set OuTNET_Gripper=0
         Set OutNet_Tool=On
         Wait: 2.0
         Waypoint_2
         Set OutNet_Tool=Off
         'put back done, fix containers next'
   mm_get_poke
     MoveJ
       UL_Pack_aprox_1
       abv_poke
       Set OuTNET_Gripper=2
       Set OutNet_Tool=On
       Wait: 2.0
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       'open gripper'
       poke_holder
       Set OuTNET_Gripper=6
       Set OutNet_Tool=On
       Wait: 3.5
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       'close_gripper'
       abv_poke
       UL_Pack_aprox_1
   mm_fix_pack1
     MoveJ
       UL_Pack_aprox_1
       abv_p1
     MoveL
       If c1_recorrect≟1
         c1_approx
         c1_push
         c1_approx
         'Fixed c1'
         abv_p1
       If c2_recorrect≟1
         c2_approx
         c2_push
         c2_approx
         'Fixed c2'
         abv_p1
       If c3_reconnect≟1
         c3_approx
         c3_push
         c3_approx
         'Fixed c3'
         abv_p1
       If c4_reconnect≟1
         c4_approx
         c4_push
         c4_approx
         'Fixed c4'
         abv_p1
   mm_drop_poke
     MoveJ
       UL_Pack_aprox_1
       abv_poke
       poke_holder
       Set OuTNET_Gripper=2
       Set OutNet_Tool=On
       Wait InNET_InPos=HI
       Set OutNet_Tool=Off
       abv_poke
       Set OuTNET_Gripper=0
       Set OutNet_Tool=On
       Waypoint_5
       Set OutNet_Tool=Off
